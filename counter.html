<!DOCTYPE html>
  <head>
    <title>Counter</title>
    <!--gets odometer and font-->
    <link rel=stylesheet href="https://lcedit.com/odometer/odometer.css">
    <script src="https://lcedit.com/odometer/odometer.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
  <body>
    <!--counter-->
      <span id="count" class="odometer">0</span>
  </body>
    <style>
      body {
        background-color: "transparent";
      }

     #count {
        font-size: 100px;
        font-family: "Roboto";
        font-weight: 700;
       color: "black";
      }
    </style>

        <script>
          const params = new URLSearchParams(window.location.search); // gets url parameters
          var id = params.get("id") || "UCX6OQ3DkcsbYNE6H8uQQuVA"; // gets id from url parameters and sets default id
odometers = Odometer.init();

          for (let i = 0; i < odometers.length; i++) { // selects odometer settings to all odometers
    let odometers.options[i] = { // odometer settings
        animation: ['default', 'byDigit', 'count', 'minimal'][0], // animation array, "[0]" at the end selects 'default' animation
        downColor: "black",
        duration: 2 * 1000, // animation duration in milliseconds, 2 x 1000 is 2000ms = 2s
        removeLeadingZeros: true,
        reverseAnimation: false,
        format: ",ddd",
        upColor: "black"
    }
          }
          
          setInterval(() => {
            fetch(`https://ests.sctools.org/api/get/${id}`) // fetches api
            .then((res) => res.json()) // converts response to json
            .then((data) => {
              document.getElementById("count").innerHTML = data.stats.estCount; // updates count
            });
          }, 2000); // interval in milliseconds, 2000ms = 2s
</script>
